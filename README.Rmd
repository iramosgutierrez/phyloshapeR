---
output: github_document
editor_options: 
  markdown: 
    wrap: 72
---

<!-- README.md is generated from README.Rmd. Please edit that file -->


```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# labeleR

<!-- badges: start -->
[![R-CMD-check](https://github.com/iramosgutierrez/phyloshapeR/actions/workflows/R-CMD-check.yaml/badge.svg)](https://github.com/iramosgutierrez/phyloshapeR/actions/workflows/R-CMD-check.yaml)
`r badger::badge_lifecycle("stable")`
`r badger::badge_repostatus("Active")`
[![HitCount](https://hits.dwyl.com/iramosgutierrez/phyloshapeR.svg?style=flat-square)](http://hits.dwyl.com/iramosgutierrez/phyloshapeR)
[![HitCount](https://hits.dwyl.com/iramosgutierrez/phyloshapeR.svg?style=flat-square&show=unique)](http://hits.dwyl.com/iramosgutierrez/phyloshapeR)
<!-- badges: end -->

<img src="man/figures/phyloshapeR.png" width="140px" align="right"/>

`phyloshapeR` is a package to plot phylogenies in a custom shape


## Installing labeleR

To install **phyloshapeR** from GitHub, you might need to install the
*devtools* package. Once you have it, you just have to specify the
repository and install!

```{r install labeleR, eval=F}
# install.packages("devtools")
devtools::install_github("iramosgutierrez/phyloshapeR")
```

If you want to clone the repository, you can find the code
[here](https://github.com/iramosgutierrez/phyloshapeR).


## 1. Getting started

```{r load phyloshapeR, eval = FALSE}
library("phyloshapeR")
```

### 1.1 The `phyloshapeR` package

The aim of this package is to create visual plots of phylogenies, but never to create phylogenetic trees to be used for analyses. 
The workflow of this package is to use an existing phylogenetic tree (or create a new one) and modify its branch lengths to match a particular shape. Originally it was designed to be used with administrative boundaries. It must be noted that depending on the contour of the desired shape, results may vary (more or less rounded shapes work better than long ones). However, several predefined shapes (as diamond, heart, star or polygons) have been added too.


### 1.2 Preparing the data

The only files we need to use `pyloshapeR` are a shapefile (spatial vector) and a phylogenetic tree. However, both of them can be loaded or created internally.

#### Loading an own shapefile

Shapefiles are spatial vectors that must be loaded using the `terra` package.

```{r loading_data, eval=FALSE}
library(terra)
shape <- terra::vect("files/country_boundary.shp")
```

In case we lack a shapefile including the geometries we want to use, we can use a predefined map loaded in `phyloshapeR`. However, we must do some post-processing to select the corect geomentries, as unique countries have several polygons.

```{r loading_data, eval=FALSE}

shape <- terra::vect(phyloshapeR::world)
shape <- shape[shape$name=="Australia",] #We select all the territories from Australia's country
shape <- shape[order(shape$area, decreasing = T)[1],] #we select the biggest one  (mainland Australia)
```

In case you don't want to shape your phylogeny using a country border, but want to use a predefined form, you can alternatively use function `getshape` (see below).



## 2. labeleR functions

Now let's start using labeleR!

To help you see the structure of our templates in a more visual way, we
will display some examples inspired in the Harry Potter universe.


## Citation

```{r citation, eval=TRUE, comment=NA, echo=FALSE}
citation("labeleR")
```

